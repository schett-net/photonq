"use strict";(self.webpackChunkphotonq=self.webpackChunkphotonq||[]).push([[302],{2074:function(e,t,a){a.r(t),a.d(t,{Head:function(){return o.Fb},default:function(){return g},pageConfig:function(){return m}});var s=a(4954),o=a(4482),n=a(2298),r=a(7378),c=a(1733),l=a(2719),i=a(7800);const d=e=>(0,i.tZ)(c.k,{id:"coco",children:(0,i.tZ)(l.s,{...e.form})});var u=a(421);const p=()=>{const{toast:e}=(0,o.lR)(),t=(0,u.FK)(),a=(0,r.useMemo)((()=>{const e=t.pages(),a={};for(const s of e){const e=t.templatesForPage(s.id);e.length>0&&(a[s.id]={label:s.jaenPageMetadata.title||s.slug,templates:e.reduce(((e,t)=>(e[t.id]={label:t.label},e)),{})})}return a}),[]),c=(0,s.useLocation)(),{0:l,1:p}=(0,r.useState)(void 0);return(0,r.useEffect)((()=>{try{const e=atob(c.hash.replace("#",""));window.scrollTo(0,0),a[e]&&p(e)}catch(e){console.error(e)}}),[c.hash,a]),(0,i.tZ)(d,{form:{values:{parentPage:l},parentPages:a,onSubmit:a=>{var s;const o=t.addPage({slug:a.slug,template:a.template,parentPage:{id:a.parentPage},excludedFromIndex:a.isExcludedFromIndex,jaenPageMetadata:{title:a.title,image:null===(s=a.image)||void 0===s?void 0:s.src,description:a.description,blogPost:a.blogPost}});e({title:"Page created",description:"Page "+a.title+" has been created",status:"success"}),(0,n.c4)("/cms/pages/#"+btoa(o))}}})};var g=()=>(0,i.tZ)(u.kN,{children:(0,i.tZ)(p,{})});const m={label:"New page",breadcrumbs:[{label:"CMS",path:"/cms/"},{label:"Pages",path:"/cms/pages/"},{label:"New",path:"/cms/pages/new/"}],withoutJaenFrameStickyHeader:!0,auth:{isAdminRequired:!0},layout:{name:"jaen",type:"form"}}}}]);
//# sourceMappingURL=component---packages-gatsby-plugin-jaen-src-pages-cms-pages-new-tsx-c496cd4d7f7990d54047.js.map