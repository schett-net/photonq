"use strict";(self.webpackChunkphotonq=self.webpackChunkphotonq||[]).push([[362],{1895:function(e,t,i){i.d(t,{N:function(){return l}});var n=i(2955),a=i(8034),r=i(2605),o=i(7800);const l=e=>{const{title:t,children:i,...l}=e;return(0,o.BX)(n.K,{direction:{base:"column",md:"row"},spacing:"6",py:"4",...l,children:[(0,o.tZ)(a.xu,{minW:"3xs",children:t&&(0,o.tZ)(r.X,{as:"h2",fontWeight:"semibold",fontSize:"lg",flexShrink:0,children:t})}),i]})}},421:function(e,t,i){i.d(t,{FK:function(){return n.W},Mq:function(){return l},kN:function(){return o}});var n=i(4482),a=i(2298),r=i(7800);const o=e=>{const t=(0,a.K2)("992063427");return(0,r.tZ)(n.ZI,{staticPages:t.allJaenPage.nodes,templates:t.allJaenTemplate.nodes,children:e.children})},l=e=>t=>(0,r.tZ)(o,{children:(0,r.tZ)(e,{...t})})},9583:function(e,t,i){i.d(t,{Z:function(){return f}});var n=i(4482),a=i(2955),r=i(8034),o=i(4303),l=i(5113),s=i(957),d=i(4416),c=i(3778),u=i(5699),h=i(7378),g=i(7228),m=i(7800);const v=e=>{const{0:t,1:i}=(0,h.useState)(!1);return(0,m.BX)(a.K,{direction:"row",spacing:"6",align:"center",width:"full",children:[(0,m.tZ)(r.xu,{boxSize:36,minW:"36",borderRadius:"lg",bg:"bg.subtle",children:e.value?(0,m.tZ)(o.E,{borderRadius:"lg",boxSize:"100%",src:e.value,fallback:(0,m.tZ)(l.O,{borderRadius:"lg",boxSize:"100%"})}):(0,m.tZ)(s.M,{boxSize:"100%",borderRadius:"lg",children:(0,m.tZ)(d.x,{color:"muted",fontSize:"sm",children:"No image"})})}),(0,m.BX)(a.K,{children:[(0,m.BX)(c.U,{spacing:"5",children:[(0,m.tZ)(u.z,{isLoading:t,variant:"outline",leftIcon:(0,m.tZ)(g.FaCloudUploadAlt,{}),onClick:async()=>{i(!0);try{await e.onChoose()}catch(t){}i(!1)},children:"Choose media"}),e.value&&(0,m.tZ)(u.z,{variant:"ghost",onClick:e.onRemove,children:"Remove"})]}),(0,m.tZ)(d.x,{fontSize:"sm",mt:"3",color:"muted",children:e.description})]})]})};var f=e=>{const t=(0,n.aM)({onSelect:t=>{e.onChoose(t)}});return(0,m.tZ)(v,{onChoose:t.toggleModal,onRemove:e.onRemove,description:e.description,value:e.value})}},633:function(e,t,i){i.r(t),i.d(t,{Head:function(){return n.Fb},default:function(){return C},pageConfig:function(){return N}});var n=i(4482),a=i(8034),r=i(2955),o=i(7704),l=i(2605),s=i(1659),d=i(6453),c=i(5987),u=i(948),h=i(9002),g=i(5266),m=i(3778),v=i(3100),f=i(5699),p=i(7378),Z=i(8039),b=i(9583),M=i(1895),k=i(7800);const S=e=>{var t,i,n,S,x,y,C,N,z,I,w,X,B,R,U,D,_,J,L,j;let{data:F,onUpdate:K}=e;const[T,q]=p.useState(F),{register:E,reset:O,handleSubmit:W,setValue:H,control:Q,getValues:$,formState:{errors:V,isSubmitting:A,isDirty:G}}=(0,Z.cI)({defaultValues:T}),P=e=>{K(e)};return(0,p.useEffect)((()=>{q(F),O({siteMetadata:Object.keys(F.siteMetadata||{}).length?F.siteMetadata:null})}),[F]),console.log("values",$()),(0,k.tZ)(a.xu,{id:"coco",children:(0,k.tZ)("form",{onSubmit:e=>{W(P)(e)},children:(0,k.BX)(r.K,{spacing:"4",divider:(0,k.tZ)(o.c,{}),px:{base:"4",md:"10"},children:[(0,k.tZ)(l.X,{size:"sm",children:"Settings"}),(0,k.tZ)(M.N,{title:"Site Info",children:(0,k.BX)(s.g,{width:"full",spacing:"6",children:[(0,k.BX)(d.NI,{isInvalid:!(null==V||null===(t=V.siteMetadata)||void 0===t||!t.title),children:[(0,k.tZ)(c.l,{children:"Title"}),(0,k.tZ)(u.I,{placeholder:"Title",...E("siteMetadata.title",{maxLength:{value:100,message:"Title is too long"}})}),(0,k.tZ)(h.J1,{children:null===(i=V.siteMetadata)||void 0===i||null===(n=i.title)||void 0===n?void 0:n.message})]}),(0,k.BX)(d.NI,{isInvalid:!(null==V||null===(S=V.siteMetadata)||void 0===S||!S.siteUrl),children:[(0,k.tZ)(c.l,{children:"URL"}),(0,k.tZ)(u.I,{placeholder:"https://snek.at",...E("siteMetadata.siteUrl",{validate:{checkUrl:e=>e&&!/^https?:\/\//.test(e)?"URL must start with http:// or https://":void 0}})}),(0,k.tZ)(h.J1,{children:null===(x=V.siteMetadata)||void 0===x||null===(y=x.siteUrl)||void 0===y?void 0:y.message})]}),(0,k.BX)(d.NI,{isInvalid:!(null==V||null===(C=V.siteMetadata)||void 0===C||!C.description),children:[(0,k.tZ)(c.l,{children:"Description"}),(0,k.tZ)(g.g,{rows:5,placeholder:"The description that appears in search engines and social media.",...E("siteMetadata.description")}),!(null!==(N=V.siteMetadata)&&void 0!==N&&N.description)&&(0,k.tZ)(d.Q6,{children:"Brief description for your site."}),(0,k.tZ)(h.J1,{children:null===(z=V.siteMetadata)||void 0===z||null===(I=z.description)||void 0===I?void 0:I.message})]}),(0,k.BX)(d.NI,{id:"image",children:[(0,k.tZ)(c.l,{children:"Image"}),(0,k.tZ)(Z.Qr,{control:Q,name:"siteMetadata.image",render:e=>{let{field:{value:t}}=e;return(0,k.tZ)(b.Z,{value:t,onChoose:e=>{H("siteMetadata.image",e.url,{shouldDirty:!0})},onRemove:()=>{H("siteMetadata.image","",{shouldDirty:!0})},description:"Upload a photo to represent the site."})}})]})]})}),(0,k.tZ)(M.N,{title:"Organisation",children:(0,k.BX)(s.g,{width:"full",spacing:"6",children:[(0,k.BX)(d.NI,{isInvalid:!(null==V||null===(w=V.siteMetadata)||void 0===w||null===(X=w.organization)||void 0===X||!X.name),children:[(0,k.tZ)(c.l,{children:"Name"}),(0,k.tZ)(u.I,{placeholder:"Snek",...E("siteMetadata.organization.name",{maxLength:{value:100,message:"Name is too long"}})}),(0,k.tZ)(h.J1,{children:null===(B=V.siteMetadata)||void 0===B||null===(R=B.organization)||void 0===R||null===(U=R.name)||void 0===U?void 0:U.message})]}),(0,k.BX)(d.NI,{isInvalid:!(null==V||null===(D=V.siteMetadata)||void 0===D||null===(_=D.organization)||void 0===_||!_.url),children:[(0,k.tZ)(c.l,{children:"Url"}),(0,k.tZ)(u.I,{placeholder:"https://snek.at",...E("siteMetadata.organization.url",{validate:{checkUrl:e=>e&&!/^https?:\/\//.test(e)?"Url must start with http:// or https://":void 0}})}),(0,k.tZ)(h.J1,{children:null===(J=V.siteMetadata)||void 0===J||null===(L=J.organization)||void 0===L||null===(j=L.url)||void 0===j?void 0:j.message})]}),(0,k.BX)(d.NI,{id:"image",children:[(0,k.tZ)(c.l,{children:"Image"}),(0,k.tZ)(Z.Qr,{control:Q,name:"siteMetadata.organization.logo",render:e=>{let{field:{value:t}}=e;return(0,k.tZ)(b.Z,{value:t,onChoose:e=>{H("siteMetadata.organization.logo",e.url,{shouldDirty:!0})},onRemove:()=>{H("siteMetadata.organization.logo","",{shouldDirty:!0})},description:"Upload a photo to represent the organization."})}})]})]})}),(0,k.tZ)(m.U,{justifyContent:"right",children:(0,k.BX)(v.h,{children:[(0,k.tZ)(f.z,{variant:"outline",isDisabled:!G,onClick:()=>{O(void 0,{keepDirty:!1})},children:"Cancel"}),(0,k.tZ)(f.z,{type:"submit",isLoading:A,isDisabled:!G,children:"Save"})]})})]})})})};var x=i(421);const y=()=>{const e=(0,x.FK)(),{toast:t}=(0,n.lR)();return(0,k.tZ)(S,{data:{siteMetadata:e.siteMetadata},onUpdate:i=>{let{siteMetadata:n}=i;e.updateSiteMetadata(n||{}),t({title:"Settings updated",status:"success"})}})};var C=e=>(0,k.tZ)(x.kN,{children:(0,k.tZ)(y,{...e})});const N={label:"Jaen CMS | Settings",icon:"FaCog",menu:{label:"Settings",type:"app",group:"cms",order:400},breadcrumbs:[{label:"CMS",path:"/cms/"},{label:"Settings",path:"/cms/settings/"}],withoutJaenFrameStickyHeader:!0,auth:{isAdminRequired:!0},layout:{name:"jaen"}}},7704:function(e,t,i){i.d(t,{c:function(){return r}});var n=i(7147),a=i(4246),r=e=>(0,a.jsx)(n.m.div,{className:"chakra-stack__divider",...e,__css:{...e.__css,borderWidth:0,alignSelf:"stretch",borderColor:"inherit",width:"auto",height:"auto"}});r.displayName="StackDivider"},5113:function(e,t,i){i.d(t,{O:function(){return p}});var n=i(7378);var a=i(613),r=i(7147),o=i(3739),l=i(43),s=i(6470),d=i(8742),c=i(7155),u=i(4246),h=(0,r.m)("div",{baseStyle:{boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none","&::before, &::after, *":{visibility:"hidden"}}}),g=(0,o.gJ)("skeleton-start-color"),m=(0,o.gJ)("skeleton-end-color"),v=(0,l.F4)({from:{opacity:0},to:{opacity:1}}),f=(0,l.F4)({from:{borderColor:g.reference,background:g.reference},to:{borderColor:m.reference,background:m.reference}}),p=(0,s.G)(((e,t)=>{const i={...e,fadeDuration:"number"==typeof e.fadeDuration?e.fadeDuration:.4,speed:"number"==typeof e.speed?e.speed:.8},l=(0,d.mq)("Skeleton",i),s=function(){const e=(0,n.useRef)(!0);return(0,n.useEffect)((()=>{e.current=!1}),[]),e.current}(),{startColor:p="",endColor:Z="",isLoaded:b,fadeDuration:M,speed:k,className:S,fitContent:x,...y}=(0,o.Lr)(i),[C,N]=(0,c.dQ)("colors",[p,Z]),z=function(e){const t=(0,n.useRef)();return(0,n.useEffect)((()=>{t.current=e}),[e]),t.current}(b),I=(0,a.cx)("chakra-skeleton",S),w={...C&&{[g.variable]:C},...N&&{[m.variable]:N}};if(b){const e=s||z?"none":`${v} ${M}s`;return(0,u.jsx)(r.m.div,{ref:t,className:I,__css:{animation:e},...y})}return(0,u.jsx)(h,{ref:t,className:I,...y,__css:{width:x?"fit-content":void 0,...l,...w,_dark:{...l._dark,...w},animation:`${k}s linear infinite alternate ${f}`}})}));p.displayName="Skeleton"},5266:function(e,t,i){i.d(t,{g:function(){return u}});var n=i(3624),a=i(6470),r=i(8742),o=i(3739),l=i(7147),s=i(613),d=i(4246);var c=["h","minH","height","minHeight"],u=(0,a.G)(((e,t)=>{const i=(0,r.mq)("Textarea",e),{className:a,rows:u,...h}=(0,o.Lr)(e),g=(0,n.Y)(h),m=u?function(e,t=[]){const i=Object.assign({},e);for(const n of t)n in i&&delete i[n];return i}(i,c):i;return(0,d.jsx)(l.m.textarea,{ref:t,rows:u,...g,className:(0,s.cx)("chakra-textarea",a),__css:m})}));u.displayName="Textarea"}}]);
//# sourceMappingURL=component---packages-gatsby-plugin-jaen-src-pages-cms-settings-tsx-0dd1a32400bba955d6e8.js.map